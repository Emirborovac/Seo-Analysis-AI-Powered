<!-- AI Analysis Tab Content -->
<div class="space-y-8">
    <!-- Header Section -->
    <div class="bg-white rounded-xl shadow-md p-6 border border-gray-200">
        <div class="flex items-center mb-4">
            <div class="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center mr-4">
                <i class="fas fa-brain text-purple-600"></i>
            </div>
            <h2 class="text-2xl font-bold text-gray-800">AI-Powered Analysis</h2>
        </div>
        <p class="text-gray-600">
            Our AI has analyzed all aspects of your website's performance and SEO to provide you with
            actionable insights in plain English. This analysis is tailored for non-technical users.
        </p>
    </div>

    {% if ai_analysis %}
    <!-- Results Container -->
    <div class="space-y-6">
        <!-- Overview Section -->
        <div class="bg-white rounded-xl shadow-md p-6 border border-gray-200">
            <div class="flex items-center mb-4">
                <div class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3">
                    <i class="fas fa-eye text-blue-600"></i>
                </div>
                <h3 class="text-xl font-bold text-gray-800">Overview</h3>
            </div>
            <div class="prose max-w-none text-gray-700">
                {{ ai_analysis.Overview|linebreaks }}
            </div>
        </div>

        <!-- Strengths Section -->
        <div class="bg-white rounded-xl shadow-md p-6 border border-green-200">
            <div class="flex items-center mb-4">
                <div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3">
                    <i class="fas fa-check-circle text-green-600"></i>
                </div>
                <h3 class="text-xl font-bold text-gray-800">Strengths</h3>
            </div>
            <div class="prose max-w-none text-gray-700">
                {{ ai_analysis.Strengths|linebreaks }}
            </div>
        </div>

        <!-- Weaknesses Section -->
        <div class="bg-white rounded-xl shadow-md p-6 border border-orange-200">
            <div class="flex items-center mb-4">
                <div class="w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center mr-3">
                    <i class="fas fa-exclamation-circle text-orange-600"></i>
                </div>
                <h3 class="text-xl font-bold text-gray-800">Weaknesses</h3>
            </div>
            <div class="prose max-w-none text-gray-700">
                {{ ai_analysis.Weaknesses|linebreaks }}
            </div>
        </div>

        <!-- Advice Section -->
        <div class="bg-white rounded-xl shadow-md p-6 border border-purple-200">
            <div class="flex items-center mb-4">
                <div class="w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center mr-3">
                    <i class="fas fa-lightbulb text-purple-600"></i>
                </div>
                <h3 class="text-xl font-bold text-gray-800">Advice</h3>
            </div>
            <div class="prose max-w-none text-gray-700">
                {{ ai_analysis.Advice|linebreaks }}
            </div>
        </div>

        
    {% else %}
    <!-- Error State -->
    <div class="bg-white rounded-xl shadow-md p-8 border border-red-200">
        <div class="flex items-start">
            <div class="w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-4">
                <i class="fas fa-exclamation-triangle text-red-600"></i>
            </div>
            <div>
                <h3 class="text-xl font-bold text-red-800 mb-2">Analysis Not Available</h3>
                <p class="text-gray-700 mb-4">We couldn't generate an AI analysis for this website. Please try analyzing
                    the website again.</p>
            </div>
        </div>
    </div>
    {% endif %}
</div>

<!-- JavaScript for AI Analysis Tab -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Toggle complete analysis section
        const toggleCompleteAnalysisBtn = document.getElementById('toggle-complete-analysis');
        const completeAnalysisContent = document.getElementById('complete-analysis-content');

        if (toggleCompleteAnalysisBtn && completeAnalysisContent) {
            toggleCompleteAnalysisBtn.addEventListener('click', function () {
                completeAnalysisContent.classList.toggle('hidden');
                const icon = toggleCompleteAnalysisBtn.querySelector('i.fas.fa-chevron-down');
                if (completeAnalysisContent.classList.contains('hidden')) {
                    icon.classList.remove('transform', 'rotate-180');
                } else {
                    icon.classList.add('transform', 'rotate-180');
                }
            });
        }
    });
</script>